<div class="results-container relative min-h-screen bg-black p-8 font-sans text-white">
  <!-- Add Search Bar Here -->

  <div
    class="mb-10 flex min-h-[70vh] flex-col items-center justify-end border-b border-gray-800 pb-4"
  >
    <app-search-bar
      [initialDestination]="destination"
      [initialRangeDates]="null"
      [initialAdults]="adults"
      [initialChildren]="children"
      (onSearch)="handleSearch($event)"
    ></app-search-bar>
    <span class="font-serif text-[14rem]">{{ destination }}</span>
  </div>

  <!-- Results List -->
  <div class="results-list">
    <!-- Loading Indicator -->
    <div *ngIf="isLoading" class="py-12 text-center">
      <p class="text-xl text-gray-400">Loading hotels...</p>
    </div>

    <!-- Error Message -->
    <div
      *ngIf="errorMessage && !isLoading"
      class="rounded-lg bg-red-900 bg-opacity-30 p-6 py-10 text-center text-red-400"
    >
      <p class="text-xl">{{ errorMessage }}</p>
    </div>

    <!-- Hotel Results -->
    <div *ngIf="!isLoading && !errorMessage && hotels.length > 0" class="flex flex-col">
      <!-- Use items-start for baseline alignment, adjust button column separately -->
      <div
        *ngFor="let hotel of hotels; let isLast = last"
        class="hotel-item mt-10 flex items-start gap-8 border-b border-gray-800 pb-10"
        [class.border-none]="isLast"
      >
        <!-- Hotel Image -->
        <div class="flex-shrink-0">
          <img
            [src]="
              (hotel.images | findPrimaryImage)?.image_compressed ||
              'https://via.placeholder.com/200x133/333333/808080?text=No+Image'
            "
            alt="{{ hotel.name }}"
            class="h-60 w-96 object-cover"
          />
          <!-- Using a pipe (to be created) to find the primary image -->
        </div>

        <!-- Name, Location, Tag -->
        <div class="my-8 ml-8 flex w-1/3 flex-shrink-0 flex-col items-start gap-2 pt-1">
          <h3 class="mb-1 font-serif text-4xl font-normal tracking-wider">
            {{ hotel.name }}
          </h3>
          <p class="mb-3 text-sm uppercase tracking-wider text-gray-500">
            {{ hotel.city }}, {{ hotel.country }}
          </p>
          <!-- Tag Placeholder -->
          <span
            class="flex flex-row items-center gap-2 rounded-xl bg-[#2d2d2d] px-2 py-1 text-xs font-bold uppercase tracking-wider text-white"
          >
            <img
              [src]="getContinentIconPath(hotel)"
              [alt]="getContinentForHotel(hotel) + ' Icon'"
              class="h-4 w-4"
            />
            {{ getContinentForHotel(hotel) }}
          </span>
        </div>

        <!-- Description -->
        <!-- pt-1 to align slightly below name -->
        <div class="text-md my-8 flex-grow px-8 pt-1 leading-relaxed text-gray-400">
          <p *ngIf="hotel.description">
            {{ hotel.description }}
          </p>
          <p *ngIf="!hotel.description">No description available.</p>
        </div>

        <!-- Buttons -->
        <!-- Use flex, justify-center and h-full to center buttons vertically within their column -->
        <div class="my-8 flex h-full flex-shrink-0 flex-col items-center justify-center gap-3 pl-8">
          <!-- Adjusted gap slightly -->
          <app-hover-button
            buttonText="Book Now"
            theme="light"
            [customClasses]="
              'border border-white bg-white px-8 py-2 text-sm font-semibold uppercase tracking-wider text-black hover:text-white'
            "
            (onClick)="viewHotelDetails(hotel.id)"
          >
            <!-- Correct closing tag -->
          </app-hover-button>
          <app-hover-button
            buttonText="Read More"
            [customClasses]="
              'border border-gray-600 bg-black px-8 py-2 text-sm font-semibold uppercase tracking-wider text-white hover:text-black'
            "
            (onClick)="viewHotelDetails(hotel.id)"
          >
            <!-- Correct closing tag -->
          </app-hover-button>
        </div>
      </div>
    </div>
  </div>
</div>
